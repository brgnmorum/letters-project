<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Advanced Typing Example</title>
    <style>
      #output {
        border: 1px solid #ccc;
        padding: 10px;
        min-height: 50px;
        width: 400px;
        font-family: monospace;
        white-space: pre-wrap; /* 줄바꿈 유지 */
      }
      .letter {
        font-size: 18px;
        color: black;
      }
      .bark {
        color: red;
        font-weight: bold;
      }
    </style>
  </head>
  <body>
    <h1>Type something:</h1>
    <p>Try typing letters, BARK! for fun, or see images!</p>
    <div id="output"></div>

    <script>
      const outputEl = document.getElementById("output");

      document.addEventListener("keydown", function(event) {
        // Handle Backspace
        if (event.key === "Backspace") {
          const lastEl = outputEl.lastChild;
          if (lastEl) {
            outputEl.removeChild(lastEl);
          }
          return; // Backspace 처리 후 나가기
        }

        // 특수 키는 무시
        if (event.key.length > 1) return;

        // DOM element 단위로 만들기
        let newEl = document.createElement("span");
        newEl.classList.add("letter");
        newEl.textContent = event.key;

        // 예시: 'b' 키를 누르면 BARK! 표시
        if (event.key.toLowerCase() === "b") {
          newEl.textContent = "BARK!";
          newEl.classList.add("bark");
        }

        // 예시: 'i' 키를 누르면 고양이 이미지 추가
        if (event.key.toLowerCase() === "i") {
          const img = document.createElement("img");
          img.src = "https://placekitten.com/30/30";
          img.alt = "Kitten";
          img.style.verticalAlign = "middle";
          newEl = img; // 이미지로 변경
        }

        // 출력 영역에 추가
        outputEl.appendChild(newEl);
      });
    </script>
  </body>
</html>
